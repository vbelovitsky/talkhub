<div class="navigation" id="navigation">
  <div class="left-nav">
    <div class="logo-brand"><a href="{% url 'main_page' %}" style="color: black;" id="Logo">TalkHub</a></div>
  </div>
  
  <form class="form-inline my-2 my-lg-0" action="{% url 'main_page' %}">
            <input maxlength="25" class="form-control mr-sm-2" type="search" placeholder="Search" aria-label="Search" name="q">
            <button class="btn btn-outline-success my-2 my-sm-0" type="submit" id="searchbtn">Search</button>
  </form>

  <div class="rigth-nav">
    <div class="btn-group">
      <button type="button" class="btn btn-success dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
        Menu
    </button>
      <div class="dropdown-menu dropdown-menu-right">
      
      {% if request.user.is_authenticated %}
        
          <a class="dropdown-item" href={% url 'blogapp:post_create' %}>Create</a>
          <a class="dropdown-item" href="{% url 'edit_profile' %}">Edit profile</a>
          <a class="dropdown-item" onclick="alert('Sry. Im idiot')">Toggle theme</a>
          <div class="dropdown-divider"></div>
          <a class="dropdown-item" style="color: firebrick;" href="{% url 'user_logout' %}">Logout</a>
        {% else %}
        
            <a class="dropdown-item" style="color: green;" href="{% url 'user_login' %}">Login</a>
            <div class="dropdown-divider"></div>
            <a class="dropdown-item" style="color: firebrick;" href="{% url 'register' %}">Sign Up</a>

        {% endif %}
      </div>
    </div>
  </div>
</div>
<script>
    function ToggleTheme() {
      var Toggled = localStorage.getItem('Toggled');
      searchbtn.classList.toggle('btn-outline-success')
      searchbtn.classList.toggle('btn-outline-light')
      if (Toggled == 0){
        Logo.style.color = 'black';
        navigation.style.background = 'white'
      }
      else {
        Logo.style.color = 'white';
        navigation.style.background = '#333';
      }

      var elements = document.body.getElementsByClassName("card")
          for (var i = 0; i < elements.length; i++) {
            var el = elements[i];
              el.classList.toggle('bg-light')
              el.classList.toggle('text-white')  
              el.classList.toggle('bg-dark')
          } 
      Toggled = Math.abs((Toggled - 1)%2);
      localStorage.setItem('Toggled', Toggled)
    }
    function ToggleThemeOnLoad(){
      var Toggled = localStorage.getItem('Toggled');
      
      if (Toggled == 1){
        Logo.style.color = 'black';
        navigation.style.background = 'white'
      }
      else {
        Logo.style.color = 'white';
        navigation.style.background = '#333';
      }

      if (Toggled == 1){
        searchbtn.classList.toggle('btn-outline-success')
        searchbtn.classList.toggle('btn-outline-light')
        var elements = document.body.getElementsByClassName("card")
          for (var i = 0; i < elements.length; i++) {
            var el = elements[i];
              el.classList.toggle('bg-light')
              el.classList.toggle('text-white')  
              el.classList.toggle('bg-dark')
          } 
      }
    }
</script>